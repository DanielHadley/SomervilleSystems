<!DOCTYPE html>
<!-- created by Daniel Hadley from twitter bootstrap -->
<html lang="en"><head>
<style type="text/css">
.knitr .inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage .left {
  text-align: left;
}
.rimage .right {
  text-align: right;
}
.rimage .center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Somerville Systems</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.css" rel="stylesheet">
    <link href="css/docs.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->

    <!-- Highcharts scripts -->
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
      <script src="js/highcharts.js"></script>

    <!-- Leaflet scripts -->
      <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css" />
      <script src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script>
      <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>

      
    <!-- Google Analytics -->

      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-13225056-2', 'auto');
  ga('send', 'pageview');
	  </script>
    
</head>

  <body data-spy="scroll" data-target=".bs-docs-sidebar" data-twttr-rendered="true">
    

    <!-- Navbar
    ================================================== -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="index.html">Home</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="">
                <a href="index.html">Home</a>
              </li>
              <li class="active">
                <a href="live.html">Live</a>
              </li>
              <li class="">
                <a href="work.html">Work</a>
              </li>
              <li class="">
                <a href="play.html">Play</a>
              </li>
              <li class="">
                <a href="family.html">Raise a Family</a>
              </li>
              <li class="">
                <a href="http://www.somervillema.gov/">City Home</a>
              </li>
              
            </ul>
          </div>
        </div>
      </div>
    </div>

<div class="jumbotron masthead">
  <div class="container">
    <p>The City of Somerville's Key Systems Indicators</p>  
    
  </div>
</div>


<!-- The Charts are all here so that I can style them in a similar way.
They load to the specified containers -->

<script>
    $(function() {
    Highcharts.setOptions({
        chart: {
            backgroundColor: 'rgba(230, 230, 230, .9)',
            borderWidth: 1,
            plotBackgroundColor: 'rgba(255, 255, 255, .9)',
            plotShadow: true,
            plotBorderWidth: 1,
	    style: {
            fontFamily: 'Helvetica'
	    }
        }
    });

<!-- Constituent Services -->
    var chart1 = new Highcharts.Chart({
        chart: {
            renderTo: 'AllConstituentServicesContainer',
        type: 'column'
        },
    title: {
                text: 'Top 311 Calls Yesterday, 09-17-2015'
            },
         subtitle: {
                text: 'Source: 311'
            },
        
        xAxis: {
                categories: ["City office hours or directions", "Clerk-Personal documents/permit inquiry/claim forms", "Elections-Election information/polling location", "CS-Foreign language calls/translations", "Illegal parking", "How to appeal a parking ticket inquiry", "Street light issue", "ISD-Buildings", "School building maintenance & repairs", "Clerk-Public services/non-criminal citations", "T&P information/feedback", "Repeat Call", "CTY follow up questions", "TV/monitor pick up request", "Obtain a parking permit inquiry"]
            },
    yAxis: {
                title: {
                    text: 'Calls'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
    
    legend: {
        enabled: false
    },

        series: [{
        name: 'Calls',
            data: [7, 7, 7, 8, 8, 9, 9, 11, 11, 12, 12, 13, 16, 19, 41]
          }]
    });


<!-- Google Analytics -->
    var chart1 = new Highcharts.Chart({
        chart: {
            renderTo: 'GoogleAnalyticsContainer',
        type: 'column'
        },
    title: {
                text: 'Top Website Views Yesterday, 09-17-2015'
            },
         subtitle: {
                text: 'Source: Google Analytics'
            },
        
        xAxis: {
                categories: ["Commercial Real Estate |", "Polling Places: Polls Open 7 a.m. to 8 p.m. |", "Preliminary Ward 6 City Election on Thursday, September 17 |", "SomerStreets 2015 Series |", "Employee Address Lookup |", "Board of Aldermen |", "Make Payments Online |", "Inspectional Services Division |", "Calendar of Events |", "DPW - Trash Disposal & Recycling Procedures |", "Assessing |", "Somerville City Job Postings |", "Street Sweeping Schedule |", "Elections |", "Address Information Lookup |"]
            },
    yAxis: {
                title: {
                    text: 'Views'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
    
    legend: {
        enabled: false
    },

        series: [{
        name: 'Views',
            data: [79, 85, 107, 125, 127, 132, 133, 160, 174, 177, 258, 272, 337, 471, 482]
          }]
    });


  <!-- Inspectional Services Building Permits -->
    var chart1 = new Highcharts.Chart({
        chart: {
            renderTo: 'ISDBuildingContainer',
        type: 'column'
        },
    title: {
                text: 'Top Building Permits From Yesterday Yesterday, 09-17-2015'
            },
         subtitle: {
                text: 'Source: Citizenserve'
            },
        
        xAxis: {
                categories: ["Commercial - Existing", "Commercial - New", "Commercial Other", "Dumpster Permit", "Residential - New", "Residential Alteration", "Residential Repair", "Commercial", "Residential", "Residential - Existing"]
            },
    yAxis: {
                title: {
                    text: 'Calls'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
    
    legend: {
        enabled: false
    },

        series: [{
        name: 'Calls',
            data: [1, 1, 1, 1, 1, 2, 4, 5, 12, 18]
          }]
    });

    
    
<!-- This is an empty chart- a place holder if we want to use more than one chart but style them in the same way -->
    var chart2 = new Highcharts.Chart({
        chart: {
            renderTo: 'container2',
            type: 'column'
        },

        xAxis: {
            type: 'datetime'
        },

        series: [{
            data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4],
            pointStart: Date.UTC(2010, 0, 1),
            pointInterval: 3600 * 1000 // one hour
        }]
    });
});
</script>


<!-- Constituent Services -->
<div class="container">
    <div class="marketing">
	<div class="row-fluid">
	  <h1 class="section header">311 Calls</h1>
	  <p>Yesterday, 09-17-2015, the Somerville 311 line received 473 calls from constituents.</p>
	    <div class="row">
		<div class="span12">
		    <div id="AllConstituentServicesContainer" style="width:100%; height:400px;"></div>
		</div>
	    </div>
	</div>
    </div>
</div>


<!-- Map Test http://maptimeboston.github.io/leaflet-intro/ -->
<div class="container">
    <div class="marketing">
    <div class="row-fluid">
      <h1 class="section header">Map Test</h1>
      <p>Below are data on the top calls from yesterday.</p>
        <div class="row">
        <div class="span12">
            <div id="map" style="height: 400px"></div>
            <script>

                // initialize the map
              var map = L.map('map').setView([42.38, -71.09], 13);

              // load a tile layer
              L.tileLayer('http://tiles.mapc.org/basemap/{z}/{x}/{y}.png',
                {
                  attribution: 'Tiles by <a href="http://mapc.org">MAPC</a>, Data by <a href="http://mass.gov/mgis">MassGIS</a>',
                  maxZoom: 17,
                  minZoom: 9
                }).addTo(map);

              // load GeoJSON from an external file
              $.getJSON("/geo/UniqueCS.geojson",function(data){
                // add GeoJSON layer to the map once the file is loaded
                L.geoJson(data).addTo(map);
              });

            </script>
        </div>
        </div>
    </div>
    </div>
</div>


<!-- Google Analytics -->
<div class="container">
    <div class="marketing">
    <div class="row-fluid">
      <h1 class="section header">Website Analytics</h1>
      <p><a href="http://www.somervillema.gov/"> The City's official website </a> received 8788 pageviews yesterday.</p>
        <div class="row">
        <div class="span12">
            <div id="GoogleAnalyticsContainer" style="width:100%; height:400px;"></div>
        </div>
        </div>
    </div>
    </div>
</div>


<!-- Inspectional Services Building Permits -->
<div class="container">
    <div class="marketing">
    <div class="row-fluid">
      <h1 class="section header">Building Permits</h1>
      <p>Below are data on the top permits from yesterday. Please note: there will not be data for weekends.</p>
        <div class="row">
        <div class="span12">
            <div id="ISDBuildingContainer" style="width:100%; height:400px;"></div>
        </div>
        </div>
    </div>
    </div>
</div>




    <!-- Footer
    ================================================== -->
    <footer class="footer">
      <div class="container">
        <p>Somerville Systems : D. Hadley & E. Monea | <a href="https://github.com/DanielHadley/SomervilleSystems">Code.</a> </p>
<p><a href="mailto:dhadley@somervillema.gov">Contact us</a> with questions, requests, and suggestions.</p>

<br>
<img src="./img/somervilleSeal.png" alt="Kippt">
       
        
        
      

</div>
    </footer>



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/bootstrap.js"></script>
    

  

</body></html>
